<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>DAY ‚Äì Message & Symbols</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { color-scheme: dark; }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1d2539 0%, #020617 55%, #000 100%);
      color: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .card {
      max-width: 760px;
      width: 100%;
      background: rgba(15,23,42,0.95);
      border-radius: 18px;
      padding: 22px 18px 26px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.55);
      border: 1px solid rgba(148,163,184,0.35);
    }
    h1 { margin: 0 0 8px; font-size: 1.6rem; }
    p.caption { margin: 0 0 14px; font-size: 0.9rem; color: #9ca3af; }
    label {
      display: block;
      margin-top: 12px;
      margin-bottom: 4px;
      font-size: 0.9rem;
    }
    textarea, input, select {
      width: 100%;
      padding: 8px 10px;
      border-radius: 9px;
      border: 1px solid #374151;
      background: #020617;
      color: #e5e7eb;
      font-size: 0.95rem;
      outline: none;
    }
    textarea { min-height: 90px; resize: vertical; }
    input[type="color"] { padding: 0; height: 40px; cursor: pointer; }
    .row { display: flex; gap: 12px; flex-wrap: wrap; }
    .row > div { flex: 1 1 150px; }
    button.primary {
      margin-top: 18px;
      width: 100%;
      padding: 10px 12px;
      border-radius: 999px;
      border: none;
      background: #22c55e;
      color: #02140a;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    button.primary:hover { background: #4ade80; }
    .result {
      margin-top: 22px;
      padding-top: 16px;
      border-top: 1px dashed #374151;
      display: none;
    }
    .summary {
      font-size: 0.9rem;
      color: #d1d5db;
      white-space: pre-line;
      margin-bottom: 10px;
    }
    .link-box {
      background: #020617;
      border-radius: 10px;
      padding: 8px 10px;
      font-size: 0.84rem;
      word-wrap: break-word;
      border: 1px solid #1f2937;
      margin-bottom: 12px;
    }
    .link-box a { color: #38bdf8; text-decoration: none; }
    .qr-wrapper {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }
    #qrcode {
      background: #f9fafb;
      padding: 8px;
      border-radius: 12px;
    }
    .note { font-size: 0.8rem; color: #9ca3af; }

    .gen-footer {
      margin-top: 18px;
      display: flex;
      justify-content: flex-end;
      font-size: 0.85rem;
    }
    .gen-footer a {
      color: #38bdf8;
      text-decoration: none;
      padding: 5px 11px;
      border-radius: 999px;
      border: 1px solid #38bdf8;
      transition: background 0.2s;
    }
    .gen-footer a:hover { background: rgba(56,189,248,0.1); }

    /* viewer mode */
    .viewer-layout {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }
    .symbol-box {
      flex: 0 0 200px;
      background: #020617;
      border-radius: 14px;
      padding: 10px 8px 12px;
      border: 1px solid #1f2937;
      font-family: "JetBrains Mono", "Fira Code", monospace;
      font-size: 0.78rem;
      line-height: 1.1;
      text-align: center;
    }
    .symbol-title {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-bottom: 6px;
    }
    #symbolArea { white-space: pre-wrap; }
    .message-box {
      flex: 1 1 260px;
      background: #020617;
      border-radius: 14px;
      padding: 12px 12px 14px;
      border: 1px solid #1f2937;
    }
    .to { font-size: 0.95rem; margin-bottom: 4px; }
    .msg {
      font-size: 1.08rem;
      line-height: 1.6;
      min-height: 80px;
      white-space: pre-wrap;
    }
    .meta { margin-top: 8px; font-size: 0.78rem; color: #9ca3af; }
    .footer {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      font-size: 0.84rem;
    }
    .footer a {
      color: #38bdf8;
      text-decoration: none;
      padding: 5px 11px;
      border-radius: 999px;
      border: 1px solid #38bdf8;
      transition: background 0.2s;
    }
    .footer a:hover { background: rgba(56,189,248,0.1); }

    #generatorCard { display: none; }
    #viewerCard { display: none; }
  </style>
</head>
<body>
  <!-- ‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå -->
  <div class="card" id="generatorCard">
    <h1>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° + QR (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô DAY)</h1>
    <p class="caption">
      ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°, ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß, ‡∏™‡∏µ, ‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡πâ‡∏≤‡∏¢‡πÉ‡∏ô "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå"
      ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞ QR ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå‡∏ï‡πà‡∏≠
    </p>

    <label for="msg">1. ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå</label>
    <textarea id="msg" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á ‡πÜ ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞ :)"></textarea>

    <div class="row">
      <div>
        <label for="speed">2. ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå (‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ / ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</label>
        <input id="speed" type="number" min="10" max="500" value="60" />
      </div>
      <div>
        <label for="color">3. ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</label>
        <input id="color" type="color" value="#00ff7f" />
      </div>
    </div>

    <label for="to">4. ‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á‡πÉ‡∏Ñ‡∏£</label>
    <input id="to" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á: ‡πÄ‡∏î‡∏¢‡πå" />

    <label for="symbolKind">5. ‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå</label>
    <select id="symbolKind">
      <option value="xmas">‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™</option>
      <option value="newyear">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà (TH/EN)</option>
      <option value="songkran">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå</option>
      <option value="birthday">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</option>
    </select>

    <button class="primary" id="generateBtn">‡∏™‡∏£‡∏∏‡∏õ & ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå + QR</button>

    <div class="result" id="result">
      <div class="summary" id="summary"></div>

      <div class="link-box">
        <strong>‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ:</strong><br />
        <a id="shortLink" href="#" target="_blank"></a>
      </div>

      <div class="qr-wrapper">
        <div id="qrcode"></div>
        <div class="note">
          ‡∏™‡πÅ‡∏Å‡∏ô QR ‡∏à‡∏∞‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡∏û‡∏£‡πâ‡∏≠‡∏° "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå"
          ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å) ‡∏ö‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¢‡πå
        </div>
      </div>
    </div>

    <div class="gen-footer">
      <a id="genHomeLink" href="#">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¢‡πå</a>
    </div>
  </div>

  <!-- ‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° -->
  <div class="card" id="viewerCard">
    <h1>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¢‡πå</h1>
    <p class="caption">
      ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¢‡πå
      ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ö‡∏ö‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß ‡∏û‡∏£‡πâ‡∏≠‡∏° "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå" ‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢
    </p>

    <div class="viewer-layout">
      <div class="symbol-box">
        <div class="symbol-title" id="symbolTitle">‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå</div>
        <div id="symbolArea"></div>
      </div>
      <div class="message-box">
        <div class="to" id="toLine"></div>
        <div class="msg" id="msgBox"></div>
        <div class="meta" id="meta"></div>
        <div class="footer">
          <span id="status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...</span>
          <a id="homeLink" href="#">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¢‡πå</a>
        </div>
      </div>
    </div>
  </div>

  <!-- QRCode.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <script>
    // ======= CONFIG =======
    const HOME_URL = "https://buisme.github.io/day-project-hub/";
    const MESSAGE_PAGE_URL = window.location.href.split('?')[0];

    // ======= ‡∏ï‡∏£‡∏ß‡∏à‡πÇ‡∏´‡∏°‡∏î =======
    const params = new URLSearchParams(window.location.search);
    const hasMessage = params.has("m");

    const generatorCard = document.getElementById("generatorCard");
    const viewerCard    = document.getElementById("viewerCard");

    document.getElementById("genHomeLink").href = HOME_URL;

    if (hasMessage) {
      viewerCard.style.display = "block";
      setupViewerMode();
    } else {
      generatorCard.style.display = "block";
      setupGeneratorMode();
    }

    // ======= ‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå =======
    function setupGeneratorMode() {
      const msgEl   = document.getElementById("msg");
      const speedEl = document.getElementById("speed");
      const colorEl = document.getElementById("color");
      const toEl    = document.getElementById("to");
      const kindEl  = document.getElementById("symbolKind");

      const resultBox = document.getElementById("result");
      const summaryEl = document.getElementById("summary");
      const linkEl    = document.getElementById("shortLink");
      const qrBox     = document.getElementById("qrcode");

      document.getElementById("generateBtn").addEventListener("click", () => {
        const msg   = msgEl.value.trim();
        const speed = parseInt(speedEl.value, 10) || 60;
        const color = colorEl.value || "#00ff7f";
        const to    = toEl.value.trim() || "‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô";
        const kind  = kindEl.value || "xmas";

        if (!msg) {
          alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞");
          msgEl.focus();
          return;
        }

        const p = new URLSearchParams({
          m: msg,
          s: String(speed),
          c: color.replace("#",""),
          t: to,
          k: kind
        });

        const shortUrl = MESSAGE_PAGE_URL + "?" + p.toString();

        const kindTextMap = {
          xmas: "‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™",
          newyear: "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà (TH/EN)",
          songkran: "‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå",
          birthday: "‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î"
        };

        summaryEl.textContent =
          "‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏°‡∏≤:\n" +
          `‚Ä¢ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°: ${msg}\n` +
          `‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå: ${speed} ms/‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£\n` +
          `‚Ä¢ ‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£: ${color}\n` +
          `‚Ä¢ ‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á: ${to}\n` +
          `‚Ä¢ ‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå: ${kindTextMap[kind] || kind}`;

        linkEl.textContent = shortUrl;
        linkEl.href = shortUrl;

        qrBox.innerHTML = "";
        new QRCode(qrBox, {
          text: shortUrl,
          width: 200,
          height: 200
        });

        resultBox.style.display = "block";
      });
    }

    // ======= ‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° =======
    function setupViewerMode() {
      const m = params.get("m") || "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏≤‡∏ô‡∏∞ :)";
      const s = parseInt(params.get("s") || "60", 10);
      const cHex = params.get("c") || "00ff7f";
      const t = params.get("t") || "‡πÉ‡∏Ñ‡∏£‡∏ö‡∏≤‡∏á‡∏Ñ‡∏ô";
      const k = params.get("k") || "xmas";

      const msgBox = document.getElementById("msgBox");
      const toLine = document.getElementById("toLine");
      const meta   = document.getElementById("meta");
      const status = document.getElementById("status");
      const homeLink = document.getElementById("homeLink");
      const symbolTitle = document.getElementById("symbolTitle");

      const color = "#" + cHex;

      const titleMap = {
        xmas: "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚Ä¢ ‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™",
        newyear: "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚Ä¢ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà",
        songkran: "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚Ä¢ ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå",
        birthday: "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‚Ä¢ ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î"
      };
      symbolTitle.textContent = titleMap[k] || "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå";

      toLine.textContent = "‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á: " + t;
      toLine.style.color = color;
      msgBox.style.color = color;

      meta.textContent =
        "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå: " + (isNaN(s) ? 60 : s) +
        " ms/‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ ‚Ä¢ ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°: " + color;

      homeLink.href = HOME_URL;

      typeWriter(m, isNaN(s) ? 60 : s, msgBox, status);
      startSymbolDisplay(k, color);
    }

    async function typeWriter(text, speed, msgBox, statusEl) {
      msgBox.textContent = "";
      for (let ch of text) {
        msgBox.textContent += ch;
        await new Promise(res => setTimeout(res, speed));
      }
      statusEl.textContent = "‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß";
    }

    // ======= SYMBOLS =======
    const treeLines = [
      "        *",
      "       ***",
      "      *****",
      "     *******",
      "    *********",
      "   ***********",
      "  *************",
      "       |||",
      "       |||"
    ];

    const treeColors = [
      "#f97316",
      "#fb7185",
      "#22c55e",
      "#38bdf8",
      "#eab308"
    ];

    function startSymbolDisplay(kind, mainColor) {
      const area = document.getElementById("symbolArea");
      if (!area) return;

      const color = mainColor || "#22c55e";

      if (kind === "xmas") {
        // ‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö
        function renderTree() {
          let html = "";
          for (let i = 0; i < treeLines.length; i++) {
            const line = treeLines[i];
            for (let ch of line) {
              if (ch === "*") {
                const c = treeColors[Math.floor(Math.random() * treeColors.length)];
                html += `<span style="color:${c}">*</span>`;
              } else if (ch === "|") {
                html += `<span style="color:#9ca3af">|</span>`;
              } else if (ch === " ") {
                html += "&nbsp;";
              } else {
                html += `<span style="color:${color}">${ch}</span>`;
              }
            }
            html += "<br>";
          }
          area.innerHTML = html;
        }
        renderTree();
        setInterval(renderTree, 180);
      } else if (kind === "newyear") {
        // ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà TH/EN ‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏™‡∏µ‡πÄ‡∏ö‡∏≤ ‡πÜ
        let tick = 0;
        function renderNY() {
          const c1 = tick % 2 === 0 ? color : "#38bdf8";
          const c2 = tick % 2 === 0 ? "#eab308" : "#f97316";
          area.innerHTML =
            `<div style="font-size:0.85rem;color:${c1};">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà</div>` +
            `<div style="font-size:0.75rem;color:${c2};margin-top:4px;">HAPPY NEW YEAR</div>`;
          tick++;
        }
        renderNY();
        setInterval(renderNY, 500);
      } else if (kind === "songkran") {
        // ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå + water effect
        let tick = 0;
        function renderSongkran() {
          const c1 = tick % 2 === 0 ? color : "#38bdf8";
          area.innerHTML =
            `<div style="font-size:0.85rem;color:${c1};">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå</div>` +
            `<div style="font-size:0.75rem;color:#60a5fa;margin-top:4px;">Happy Songkran</div>` +
            `<div style="font-size:1.2rem;margin-top:4px;">üíß üí¶ üíß</div>`;
          tick++;
        }
        renderSongkran();
        setInterval(renderSongkran, 600);
      } else if (kind === "birthday") {
        // ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î + ‡πÄ‡∏Ñ‡πâ‡∏Å‡πÄ‡∏•‡πá‡∏Å ‡πÜ
        let tick = 0;
        function renderBD() {
          const c1 = tick % 2 === 0 ? color : "#fb7185";
          area.innerHTML =
            `<div style="font-size:0.85rem;color:${c1};">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</div>` +
            `<div style="font-size:0.75rem;color:#fbbf24;margin-top:4px;">Happy Birthday</div>` +
            `<div style="font-size:1.2rem;margin-top:4px;">` +
            `üéÇ<span style="color:#f97316;">‚òÖ</span>üéÇ` +
            `</div>`;
          tick++;
        }
        renderBD();
        setInterval(renderBD, 600);
      } else {
        // default
        area.textContent = "‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå";
      }
    }
  </script>
</body>
</html>
